<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Cucumber-JVM Html Reports - Tag Overview</title>
    <link rel="stylesheet" href="css/style.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="css/skin/style.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="css/960.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="css/reset.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="css/text.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="css/table.css" type="text/css" media="screen"/>
    <link rel="shortcut icon" href="favicon.ico"/>
##    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" src="js/d3.v2.min.js"></script>
    <link href='css/stack.css' rel='stylesheet' type='text/css'/>
    <link href='css/button.css' rel='stylesheet' type='text/css'/>
    <script src='js/stream_layers.js' type='text/javascript'></script>
    <script src='js/stack.js' type='text/javascript'></script>
##        google.load("visualization", "1", {packages:["corechart"]});
##        google.setOnLoadCallback(drawCharts);
##        function drawCharts() {
##            // Create and populate the data table.
##            var stepsData = google.visualization.arrayToDataTable([
##                ["Tags", "Passed", "Failed", "Skipped", "Pending"]
##                #foreach($tagRow in $tagStepsData)
##                    ,
##                    ['$tagRow.get(0)', $tagRow.get(1), $tagRow.get(2), $tagRow.get(3), $tagRow.get(4)]
##                #end
##            ]);
##            var scenariosData = google.visualization.arrayToDataTable([
##                ["Tags", "Passed", "Failed"]
##                #foreach($tagRow in $tagScenariosData)
##                    ,
##                    ['$tagRow.get(0)', $tagRow.get(1), $tagRow.get(2)]
##                #end
##            ]);
##
##            // Create and draw the visualization.
##            new google.visualization.ColumnChart(document.getElementById('tagsOverviewScenariosChart')).
##                    draw(scenariosData,
##                    {title:"Tag overview by Scenario",
##                        isStacked:true,
##                        colors:['green', 'red', 'blue', 'orange'],
##                        height:400,
##                        vAxis:{title:"Scenarios"},
##                        hAxis:{title:"Tags"}
##                    }
##            );
##
##//            new google.visualization.ColumnChart(document.getElementById('tagsOverviewStepsChart')).
##//                    draw(stepsData,
##//                    {title:"Tag overview by Steps",
##//                        isStacked:true,
##//                        colors:['green', 'red', 'blue', 'orange'],
##//                        height:400,
##//                        vAxis:{title:"Steps"},
##//                        hAxis:{title:"Tags"}}
##//            );
##        }
##    </script>
    <style>
        .feature-keyword {
            font-weight: bold;
        }

        .feature-description {
            padding-left: 15px;
            font-style: italic;
            background-color: beige;
        }

        .feature-role {
            font-weight: bold;
        }

        .feature-action {
            font-weight: bold;
        }

        .feature-value {
            font-weight: bold;
        }

        .feature-tags {
            padding-top: 10px;
            padding-left: 15px;
            color: darkblue;
        }

        .scenario-keyword {
            font-weight: bold;
            padding-left: 15px;
        }

        .scenario-scenario_name {
            padding-left: 15px;
        }

        .step-keyword {
            font-weight: bold;
            padding-left: 50px;
        }

        .step-error-message {
            background-color: #FFEEEE;
            padding-left: 50px;
            border: 1px solid #D88A8A;
        }

        .passed {
            background-color: #C5D88A;
        }

        .failed {
            background-color: #D88A8A;
        }

        .skipped {
            background-color: #2DEAEC;
        }

        .undefined {
            background-color: #ebcc81;
        }

        table.stats-table {
            color: black;
            border-width: 1px;
            border-spacing: 2px;
            border-style: outset;
            border-color: gray;
            border-collapse: collapse;
            background-color: white;
        }

        table.stats-table th {
            color: black;
            border-width: 1px;
            padding: 5px;
            border-style: inset;
            border-color: gray;
            background-color: #66CCEE;
            -moz-border-radius:;
        }

        table.stats-table td {
            color: black;
            text-align: center;
            border-width: 1px;
            padding: 5px;
            border-style: inset;
            border-color: gray;
            background-color: white;
            -moz-border-radius:;
        }
    </style>

</head>
<body id="top">
<div id="fullwidth_header">
    <div class="container_12">
        <h1 class="grid_4 logo"><a href="project-overview.html" class='ie6fix'>Cucumber</a></h1>

        <div class="grid_6" id="nav">
            <ul>
                #if ($build_number)
                    <li><a href="${jenkins_base}job/$build_project/$build_number">Back To Jenkins</a></li>
                #end
                <li><a href="project-overview.html">Project Overview</a></li>
                <li><a href="$project.getProjectFeatureUri()">Feature Overview</a></li>
            </ul>
        </div>
    </div>
</div>
<div id="fullwidth_gradient" class="pageHeader">
    <div class="pageHeaderText">
        <h2>Tag Overview#if ($build_number) for Build: $build_number#end</h2>
    </div>
</div>
    #if($tags.isEmpty())
    <div><p>You have no tags in your cucumber features</p></div>
    #else
    <div id="tagsOverviewScenariosChart" class="tagOverviewChart">
        <button class='first' id='group'
                onclick='if (!($("#group").hasClass("first active"))) {$("#group").attr("class", "first active"); $("#stack").attr("class", "last"); barChart.transitionGroup();}'>
            Group
        </button>
        <button class='last active' id='stack'
                onclick='if (!($("#stack").hasClass("last active"))) {$("#group").attr("class", "first"); $("#stack").attr("class", "last active");  barChart.transitionStack();}'>
            Stack
        </button>
        <div style="text-align: center; " class='gallery' id='chart'>
            <script>barChart.createBarChart('chart', $('#tagsOverviewScenariosChart'),
                    [
                        [
                            #foreach($tagRow in $tagScenariosData)
                                {x: $tagRow.get(0), y:$tagRow.get(2), label:"$tagRow.get(1)"},
                            #end
                        ],
                        [
                            #foreach($tagRow in $tagScenariosData)
                                {x: $tagRow.get(0), y:$tagRow.get(3), label:"$tagRow.get(1)"},
                            #end
                        ]
                    ], 2, $numberOfTags)</script>
            <p/>
        </div>
    </div>

    <div class="statsTable">
        <h2>Tag Statistics</h2>
        <table class="bordered">
            <tr>
                <th>Tag</th>
                <th>Scenarios</th>
                <th>Steps</th>
                <th>Passed Scenarios</th>
                <th>Failed Scenarios</th>
                <th>Passed Steps</th>
                <th>Failed Steps</th>
                <th>Skipped Steps</th>
                <th>Pending Steps</th>
                <th>Duration</th>
                <th>Status</th>
            </tr>

            #foreach($tag in $tags)

                #if($tag.getStatus().toString() == "PASSED")
                    #set($bgcolour = "#C5D88A")
                #else
                    #set($bgcolour = "#D88A8A")
                #end

                <tr onclick="window.location = '${project.getName()}-${tag.getFileName()}'">
                    <td style="text-align:left;"><a
                            href="${project.getName()}-${tag.getFileName()}">${tag.getTagName()}</a></td>
                    <td>$tag.getNumberOfScenarios()</td>
                    <td>$tag.getNumberOfSteps()</td>
                    <td>$tag.getNumberOfScenariosPassed()</td>
                    <td>$tag.getNumberOfScenariosFailed()</td>
                    <td>$tag.getNumberOfStepsPassed()</td>
                    <td>$tag.getNumberOfStepsFailed()</td>
                    <td>$tag.getNumberOfStepsSkipped()</td>
                    <td>$tag.getNumberOfStepsPending()</td>
                    <td>$tag.getFormattedDuration()</td>
                    <td style="background-color: $bgcolour;">$tag.getStatus()</td>
                </tr>
            #end

            <tr>
                <td style="background-color:lightgray;font-weight:bold; text-align: center;">$total_tags</td>
                <td style="background-color:lightgray;font-weight:bold;">$total_scenarios</td>
                <td style="background-color:lightgray;font-weight:bold;">$total_steps</td>
                <td style="background-color:lightgray;font-weight:bold;">$total_scenario_passes</td>
                <td style="background-color:lightgray;font-weight:bold;">$total_scenario_fails</td>
                <td style="background-color:lightgray;font-weight:bold;">$total_passes</td>
                <td style="background-color:lightgray;font-weight:bold;">$total_fails</td>
                <td style="background-color:lightgray;font-weight:bold;">$total_skipped</td>
                <td style="background-color:lightgray;font-weight:bold;">$total_pending</td>
                <td style="background-color:lightgray;font-weight:bold;">$total_duration</td>
                <td style="background-color:lightgray;font-weight:bold;">Totals</td>
            </tr>
        </table>
        <p style="text-align:right;">Created at $time_stamp</p>
    </div>
    #end
<div class="clear"></div>
</body>
</html>
